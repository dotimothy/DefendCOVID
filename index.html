<!DOCTYPE html>
<!--A Web-Based Game to Kill Time during the COVID-19 Outbreak-->
<!--Developed by Timothy Do-->

<head>
<title>DefendCOVID</title>
<meta charset="utf-8">
<link rel="shortcut icon" href="media/COVID19.png" type="image/png">
<link href='https://fonts.googleapis.com/css?family=Product+Sans' rel='stylesheet' type='text/css'>
</head>

<style>
    h1 {
        font-family: 'Product Sans';
        font-size: 32px;
    }
    h2 {
        font-family: 'Product Sans';
        font-size: 28px;
    }
    h3 {
        font-family: 'Product Sans';
        font-size: 24px;
    }
    button {
        background-color: red;
        font-family: 'Product Sans';
    	font-size: 40px;
    }
    button:hover {
		opacity: 0.5
	}

	button:active {
  		transform: translateY(15px);
	}

</style>

<script>
/* Start Script */

    /*
    * Function to get Date and Time
    */
    function getDate()
    {
        // Getting Current Date and Putting it into stats div
        var date = new Date();
        var month = date.getMonth() + 1;
        var day = date.getDate();
        var year = date.getFullYear();
        var currentDate = 'Current Global Statistics Of COVID-19 As Of: ' + month + '/' + day + '/' + year;
        //Update: Now adding Time
        var seconds = date.getSeconds();
        if(seconds < 10) {
            seconds = '0' + seconds;
        }
        var minutes = date.getMinutes();
        if(minutes < 10) {
            minutes = '0' + minutes;
        }
        var hour = date.getHours();
        if(hour < 12) {
            currentDate += ' at ' + hour + ':' + minutes + ':' + seconds + ' AM';
        }
        else {
            hour -= 12;
            currentDate += ' at ' + hour + ':' + minutes + ':' + seconds + ' PM';
        }
        document.getElementById("date").innerHTML = currentDate;
    }

    function getStats() {
        //Getting Stats for Total Number of Cases
        var source = document.URL("https://www.worldmeters.info/coronavirus");
        var total = document.getElementById("total");

    }

    function prompt() {
        var start = document.getElementById("start");
        if(confirm("This is the game. You will guess how many hidden COVID-19 entities (0-19) are on the screen in 5 tries. Press Ok to Proceed.")) {
            start.parentNode.removeChild(start);
            doGame();
        }
        else {
           reload();
        }
    }

    function doGame() {
        var random = Math.floor(Math.random() * 19);
        var triesLeft;
        document.write("<h1 style=\"font-family:'Roboto';\">Welcome to the DefendCOVID! There are COVID-19(s) hiding in the screen like this.</h1>");
        document.write("<img src=\"media/COVID19.png\" style=\" width:10%\" alt=\"The COVID-19 Virus\">")
        document.write("<br></br>");
        for(triesLeft = 5; triesLeft > 0; triesLeft--) {
            document.write("You have " + triesLeft + " tries left. Please guess how many viruses are there: ");
            document.write("<br></br>");
        }
        if(triesLeft == 0) {
            document.write("Oh no! You don't know if there are any viruses left! The COVID-19s are infecting the body and the patient is in critical condition.")
            if(confirm("Press Ok to Try Again.")) {
                reload();
            }
            else {
                window.close();
            }
        }
        else {
            document.write("Congrats! You correctly identified the number of viruses, and you helped doctors locate the virus and treat it! Yay!")
        }

    }

    

    /* Function to execute methods */
    function main() {
        getDate();
        getStats();
    }

/* End Script */
</script>


<body onload="main()">
    <div id="start">
    <div id="startmenu" style="text-align: center;">
    <h1>DefendCOVID: A Game to Pass the Quarentine Period by killing COVID-19s</h1>
    <h2>Attack the COVID-19 Virus Virtually!</h2>
    <img src="media/COVID19.gif" alt="The COVID-19 Virus">
    <br></br>
    <button onclick="prompt()">Play</button>
    </div> 

    <br></br>
    <br></br>

    <div id="stats">
        <h3 id="date"></h3> 
        <h3 id="total">Number of Total Cases:</h3>
        <h3 style="color:goldenrod;">Number of Infected: </h3>
        <h3 style="color:red;">Number of Deaths: </h3>
        <h3 style="color:lime;">Number of Recovered: </h3>
        <h3 style="font-size:18px">Source: <a target="_blank" href="https://www.worldometers.info/coronavirus/">WorldOMeter</a></h2>
        
    </div>


    <audio id="background" autoplay loop="true">
        <source src="media/background.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>
    </div>

</body>

</html>